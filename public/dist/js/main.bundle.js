(()=>{"use strict";function t(){const t=document.getElementById("mobile-menu-button"),e=document.getElementById("mobile-menu"),n=t?.querySelector(".material-icons");t&&e&&(t.addEventListener("click",()=>{e.classList.contains("hidden")?(e.classList.remove("hidden"),n.textContent="close"):(e.classList.add("hidden"),n.textContent="menu")}),document.addEventListener("click",o=>{e.contains(o.target)||t.contains(o.target)||(e.classList.add("hidden"),n&&(n.textContent="menu"))}),window.addEventListener("resize",()=>{window.innerWidth>=1024&&(e.classList.add("hidden"),n&&(n.textContent="menu"))})),function(){const t=window.location.pathname;document.querySelectorAll("nav a[href]").forEach(e=>{const n=e.getAttribute("href");(n===t||"/"!==n&&t.startsWith(n))&&(e.classList.add("text-primary","font-semibold"),e.classList.remove("text-gray-600"))})}(),function(){const t=document.querySelector("header");if(!t)return;let e=0;window.addEventListener("scroll",()=>{const n=window.pageYOffset;n>100?t.classList.add("shadow-lg"):t.classList.remove("shadow-lg"),e=n})}(),console.log("‚úì Navigation initialized")}function e(){const t=document.getElementById("donation-form");t&&function(t){const e=t.querySelectorAll('input[name="amount"]'),n=t.querySelector('input[name="custom-amount"]');e.forEach(t=>{t.addEventListener("change",()=>{n&&(n.value="")})}),n&&n.addEventListener("input",()=>{e.forEach(t=>{t.checked=!1})});t.addEventListener("submit",async e=>{e.preventDefault();const n=new FormData(t),o=Object.fromEntries(n);try{const e=await fetch(t.action,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!e.ok)throw new Error("Submission failed");{const t=await e.json();window.location.href=t.redirectUrl||"/donate/confirm"}}catch(t){console.error("Form submission error:",t),alert("C√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i.")}})}(t);const e=document.getElementById("contact-form");var n;e&&(n=e).addEventListener("submit",async t=>{t.preventDefault();const e=new FormData(n),o=Object.fromEntries(e);if(function(t){return t.name&&""!==t.name.trim()?t.email&&(e=t.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))?!(!t.message||""===t.message.trim())||(alert("Vui l√≤ng nh·∫≠p n·ªôi dung tin nh·∫Øn"),!1):(alert("Vui l√≤ng nh·∫≠p email h·ª£p l·ªá"),!1):(alert("Vui l√≤ng nh·∫≠p t√™n c·ªßa b·∫°n"),!1);var e}(o))try{if(!(await fetch(n.action,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)throw new Error("Submission failed");alert("C·∫£m ∆°n b·∫°n ƒë√£ li√™n h·ªá! Ch√∫ng t√¥i s·∫Ω ph·∫£n h·ªìi s·ªõm nh·∫•t c√≥ th·ªÉ."),n.reset()}catch(t){console.error("Form submission error:",t),alert("C√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i.")}}),console.log("‚úì Forms initialized")}class n{constructor(){this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setup()):this.setup()}setup(){console.log("üåπ LR Foundation WEB - Initializing...");try{t(),function(){const t=document.getElementById("dark-mode-toggle");if(!t)return void console.warn("Dark mode toggle button not found");const e=localStorage.getItem("darkMode"),n=window.matchMedia("(prefers-color-scheme: dark)").matches;("true"===e||!e&&n)&&document.documentElement.classList.add("dark"),t.addEventListener("click",()=>{const e=document.documentElement.classList.toggle("dark");localStorage.setItem("darkMode",e);const n=t.querySelector(".material-icons");n&&(n.textContent=e?"light_mode":"dark_mode")}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem("darkMode")||document.documentElement.classList.toggle("dark",t.matches)}),console.log("‚úì Dark mode initialized")}(),function(){const t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate-fade-in"),t.target.classList.remove("opacity-0"))})},{root:null,rootMargin:"0px",threshold:.1});document.querySelectorAll("[data-animate]").forEach(e=>{e.classList.add("opacity-0","transition-all","duration-700"),t.observe(e)}),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){const e=this.getAttribute("href");if("#"===e)return;t.preventDefault();const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})})}),console.log("‚úì Animations initialized")}(),e(),console.log("‚úÖ Application initialized successfully")}catch(t){console.error("‚ùå Application initialization failed:",t)}}}new n})();